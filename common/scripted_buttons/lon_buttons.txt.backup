lon_withdraw = {
    name = "button_lon_withdraw"
    desc = "button_lon_withdraw_desc"

    visible = { var:lon_member = yes }

    #Country scope
    ai_chance = {
        value = 0
    }

    effect = {
        set_variable = {
            name = lon_member
            value = no
        }
    }
}
lon_join = {
    name = "button_lon_join"
    desc = "button_lon_join_desc"

    visible = {
        OR = {
            var:lon_member = no
            NOT = { has_variable = lon_member }
        }
    }

    possible = {
        any_country = {
            count = 0
            exists = var:joining_lon
            var:joining_lon = yes
        }
    }

    #Country scope
    ai_chance = {
        value = 100
    }

    effect = {
        set_variable = {
            name = joining_lon
            value = yes
        }
        every_country = {
            limit = {
                var:lon_member = yes
            }
            add_journal_entry = {
                type = lon_join_vote
                target = prev
            }
        }
    }
}
lon_invoke_article_11 = {
    name = "button_lon_invoke_article_11"
    desc = "button_lon_invoke_article_11_desc"

    visible = {
        var:lon_member = yes
    }

    possible = {
        # There's gonna be like 200+ countries at any given time but probably not even
        # like 5 diplo plays at the same time so let's iterate over diplo plays instead
        custom_tooltip = {
            text = lon_member_in_defensive_war
            any_diplomatic_play = {
                # Initiator isn't in the LON
                # those savages!
                initiator = {
                    NOT = { has_variable = lon_member }
                }

                # They're attacking somebody in the LON
                OR = {
                    target = { # Target is an LON member
                        has_variable = lon_member
                    }
                    any_scope_target_ally = { # An LON member is backing the target
                        has_variable = lon_member
                    }
                }
            }
        }
    }

    #Country scope
    ai_chance = {
        value = 100
    }

    effect = {
    }
}
lon_invoke_article_16 = {
    name = "button_lon_invoke_article_16"
    desc = "button_lon_invoke_article_16_desc"

    visible = {
        var:lon_member = yes
    }

    possible = {
        # There's gonna be like 200+ countries at any given time but probably not even
        # like 5 diplo plays at the same time so let's iterate over diplo plays instead
        custom_tooltip = {
            text = lon_member_in_offensive_war
            any_diplomatic_play = {
                # Initiator isn't in the LON
                # those savages!
                initiator = {
                    OR = {
                        has_variable = lon_member
                        any_scope_target_ally = { # An LON member is backing the target
                            has_variable = lon_member
                        }
                    }
                }
            }
        }
    }

    #Country scope
    ai_chance = {
        value = 100
    }

    effect = {
    }
}

lon_join_vote_yay = {
    name = "button_lon_join_vote_yay"
    desc = "button_lon_join_vote_yay_desc"

    possible = {
        OR = {
            var:lon_join_vote_approved = no
            NOT = { has_variable = lon_join_vote_approved }
        }
        scope:target = {
            var:joining_lon = yes
        }
    }

    #Country scope
    ai_chance = {
        value = 100
    }

    effect = {
        set_variable = {
            name = lon_join_vote_approved
            value = yes
        }
    }
}
lon_join_vote_nay = {
    name = "button_lon_join_vote_nay"
    desc = "button_lon_join_vote_nay_desc"

    possible = {
        var:lon_join_vote_approved = yes
        scope:target = {
            var:joining_lon = yes
        }
    }

    #Country scope
    ai_chance = {
        value = 0
        add = 1000
    }

    effect = {
        set_variable = {
            name = lon_join_vote_approved
            value = no
        }
    }
}